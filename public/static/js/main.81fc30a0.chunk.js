(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,t,a){e.exports=a(229)},116:function(e,t,a){},134:function(e,t,a){},229:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(34),i=a.n(r),o=a(22),s=(a(116),a(13)),c=a.n(s),u=a(27),d=a(5),p=a(6),h=a(8),m=a(7),g=a(9),f=a(28),E=a(15),b=a.n(E),v=(a(134),function(e){var t=e.recipes,a=t?t.filter(function(t){return t.recipe_title.toLowerCase().includes(e.search.toLowerCase())}):null,n=t?e.search?a.map(function(t){var a=t.recipe_photo?l.a.createElement("img",{src:t.recipe_photo,alt:t.recipe_title}):null;return l.a.createElement("article",{className:"card",key:t.id,onClick:function(){return e.handleClickedRecipe(t.id)}},a,l.a.createElement("div",{className:"recipeTitle"},l.a.createElement("h3",null,t.recipe_title)))}):t.map(function(t){var a=t.recipe_photo?l.a.createElement("img",{src:t.recipe_photo,alt:"Sample"}):null;return l.a.createElement("article",{className:"card",key:t.id,onClick:function(){return e.handleClickedRecipe(t.id)}},a,l.a.createElement("div",{className:"recipeTitle"},l.a.createElement("h3",null,t.recipe_title)))}):null;return l.a.createElement("div",null,l.a.createElement("div",{className:"cards"},n))}),C=a(4),y=a(51),S=a.n(y),k=a(33),N=(a(106),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).onToggle=function(e){var t=e.target.value;a.props.onToggle(t)},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return l.a.createElement("select",{value:this.props.active,onChange:this.onToggle,className:"formatButtons"},l.a.createElement("option",{value:""},"Header Levels"),this.props.headerOptions.map(function(e){return l.a.createElement("option",{value:e.style,key:Object.values(e)},e.label)}))}}]),t}(l.a.Component)),O=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).onToggle=function(e){e.preventDefault(),a.props.onToggle(a.props.style)},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e="RichEditor-styleButton formatButtons";return this.props.active&&(e+=" RichEditor-activeButton"),l.a.createElement("button",{className:e,onClick:this.onToggle,title:this.props.style},this.props.label)}}]),t}(l.a.Component),w=[{label:" \u201c \u201d ",style:"blockquote"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"},{label:"{ }",style:"code-block"}],I=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"}];function R(e){switch(e.getType()){case"blockquote":return"RichEditor-blockquote";default:return null}}var j=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.editorState,a=t.getSelection(),n=t.getCurrentContent().getBlockForKey(a.getStartKey()).getType();return l.a.createElement("div",{className:"blockStyleToolBar"},l.a.createElement("span",{className:"RichEditor-controls"},l.a.createElement(N,{headerOptions:I,active:n,s:!0,onToggle:this.props.onToggle}),w.map(function(t){return l.a.createElement(O,{active:t.style===n,label:t.label,onToggle:e.props.onToggle,style:t.style,key:t.label,type:t})})))}}]),t}(l.a.Component),B=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={editorState:a.props.editedDetails},a.onChange=function(e){var t=a.state.editorState.getCurrentContent(),n=Object(C.convertToRaw)(t);n.content=JSON.stringify(n.content),a.setState({editorState:e},a.props.onTextEditorChangeHandlerEdit(n))},a.handleKeyCommand=function(e){var t=C.RichUtils.handleKeyCommand(a.state.editorState,e);return t?(a.onChange(t),"handled"):"not-handled"},a.onUnderlineClick=function(e){e.preventDefault(),a.onChange(C.RichUtils.toggleInlineStyle(a.state.editorState,"UNDERLINE"))},a.onBoldClick=function(e){e.preventDefault(),a.onChange(C.RichUtils.toggleInlineStyle(a.state.editorState,"BOLD"))},a.onItalicClick=function(e){e.preventDefault(),a.onChange(C.RichUtils.toggleInlineStyle(a.state.editorState,"ITALIC"))},a.toggleBlockType=function(e){a.onChange(C.RichUtils.toggleBlockType(a.state.editorState,e))},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"formatButtonsContainer"},l.a.createElement("button",{className:"formatButtons",onClick:this.onUnderlineClick,title:"underline"},l.a.createElement("u",null,"U")),l.a.createElement("button",{className:"formatButtons",onClick:this.onBoldClick,title:"bold"},l.a.createElement("b",null,"B")),l.a.createElement("button",{className:"formatButtons",onClick:this.onItalicClick,title:"italics"},l.a.createElement("em",null,"I")),l.a.createElement(j,{editorState:this.state.editorState,onToggle:this.toggleBlockType})),l.a.createElement("div",{className:"editors"},l.a.createElement(C.Editor,{blockStyleFn:R,editorState:this.state.editorState,handleKeyCommand:this.handleKeyCommand,onChange:this.onChange,placeholder:"Enter ingredients, timing and recipe steps...",spellCheck:!0,readOnly:!1})))}}]),t}(n.Component),T=function(e){return l.a.createElement("div",{className:"backButton-container"},l.a.createElement("div",{className:"arrow arrow--left",onClick:e.handleClickedBackButton}))},U=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={editing:!1,title:null,detailsForUpload:null,image:null,imageUrl:null},a.onEditHandler=function(){a.setState({editing:!a.state.editing})},a.deleteHandler=Object(u.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you would like to delete this recipe? This cannot be undone.")){e.next=4;break}return e.next=4,b.a.delete("/recipes/delete-recipe/".concat(a.props.selectedRecipe[0].id)).then(function(e){console.log("successfully delete",e.data),a.props.history.push("/")});case 4:case"end":return e.stop()}},e)})),a.setStateDetailsForUpload=function(){a.setState({detailsForUpload:a.props.editedDetails})},a.onSaveHandler=function(){var e=Object(u.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a.setStateDetailsForUpload();case 3:return console.log("STATE DETAILS FOR UPLOAD",a.state.detailsForUpload),console.log("EDITED DETAILS FOR UPLOAD",a.props.editedDetails),n={title:null!==a.state.title?a.state.title:a.props.selectedRecipe[0].recipe_title,details:null!==a.state.detailsForUpload?a.state.detailsForUpload:a.props.selectedRecipe[0].recipe_details,photo:null!==a.state.imageUrl?a.state.imageUrl:a.props.selectedRecipe[0].recipe_photo},console.log("formData",n),e.next=9,b.a.post("/recipes/edit/".concat(a.props.selectedRecipe[0].id),n).then(function(e){console.log("Response Data",e.data),console.log("The file was successfully uploaded"),a.setState({editing:!1}),a.props.history.push("/")}).catch(function(e){return e});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onTitleChangeHandler=function(e){a.setState({title:e.target.value})},a.onImageUrlChangeHandler=function(e){a.setState({imageUrl:e.target.value})},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.selectedRecipe,a=t?t.map(function(t){var a=e.state.editing?l.a.createElement(B,{onTextEditorChangeHandlerEdit:e.props.onTextEditorChangeHandlerEdit,editedDetails:C.EditorState.createWithContent(Object(C.convertFromRaw)(JSON.parse(t.recipe_details)))}):l.a.createElement(C.Editor,{editorState:C.EditorState.createWithContent(Object(C.convertFromRaw)(JSON.parse(t.recipe_details))),readOnly:!0}),n=e.state.editing?l.a.createElement("input",{id:"title",defaultValue:t.recipe_title,placeholder:"What is the title of your dish?",className:"Input",onChange:e.onTitleChangeHandler,type:"text",required:!0}):l.a.createElement("h3",null,t.recipe_title),r=null;!t.recipe_photo&&t.recipe_photo||(r=e.state.editing?l.a.createElement("input",{id:"imageUrl",placeholder:"Enter image URL",defaultValue:t.recipe_photo,className:"Input imageUrlInput",onChange:e.onImageUrlChangeHandler}):t.recipe_photo?l.a.createElement("img",{className:"recipeImage",src:t.recipe_photo,alt:"Sample"}):null);var i=e.state.editing?null:l.a.createElement("p",{className:"recipeAddedDate"},l.a.createElement("b",null,"Recipe added:")," ",S()(t.recipe_added_date).format("LL")),o=e.state.editing?l.a.createElement(k.d,{className:"editButton",title:"Undo",onClick:e.onEditHandler}):l.a.createElement(k.a,{className:"editButton",title:"Edit",onClick:e.onEditHandler});return l.a.createElement("div",{key:t.id},l.a.createElement("div",{className:"button-container"},o,l.a.createElement(k.c,{className:"deleteButton",title:"Delete",onClick:e.deleteHandler,style:(e.state.editing,null)})),l.a.createElement("form",{action:"/recipes/edit/".concat(e.props.selectedRecipe[0].id),className:"editRecipeForm",encType:"multipart/form-data",method:"post",onSubmit:e.onSaveHandler},l.a.createElement("div",{className:"saveButtonContainer"},l.a.createElement("button",{type:"submit",className:"saveButtonInnerContainer",title:"Save changes",style:e.state.editing?null:{display:"none"}},l.a.createElement(k.b,{className:"saveButton"}))),n,i,r,l.a.createElement("div",{className:"recipeDetails"},a)))}):null;return null===t&&this.props.history.push("/"),l.a.createElement("div",null,l.a.createElement(T,{handleClickedBackButton:this.props.handleClickedBackButton}),l.a.createElement("div",{className:"recipeContainer"},a))}}]),t}(n.Component),D=function(e){var t=null===e.recipes||0===e.recipes.length?l.a.createElement("p",null,"Click the pulsating button in the top right to add your first recipe."):l.a.createElement("input",{value:e.search,placeholder:"Search Recipes...",className:"searchBar Input",onChange:e.handleSearch,autoFocus:"autofocus"});return l.a.createElement("div",null,null===e.recipes?null:t)},L=function(e){var t=e.history?e.history:null,a=null===e.recipes||0===e.recipes.length?"addRecipe pulse":"addRecipe",n=e.loggedIn?l.a.createElement(o.b,{to:"/new-recipe",title:"Add New Recipe",className:a},"+"):null,r=e.loggedIn?l.a.createElement(o.b,{to:"/login",className:"signOut",onClick:e.handleSignOut},"Sign out"):null,i=e.search.length>0?"clearSearch":"hideClearSearch",s="/"===t?l.a.createElement("div",{className:"searchBarContainer"},l.a.createElement(D,{search:e.search,handleSearch:e.handleSearch,recipes:e.recipes}),l.a.createElement("div",{className:i,onClick:e.handleClearSearchBar},"clear")):null;return l.a.createElement("div",{className:"navContainer container"},l.a.createElement("div",{className:"navContainer"},l.a.createElement(o.b,{to:"/",className:"titleLogo"},l.a.createElement("img",{alt:"Chef Caitlin",src:"./media/PM-168.png",className:"chef-icon"}),l.a.createElement("h1",{className:"title"},"C's Recipes")),l.a.createElement("ul",null,n),r),s)},H=a(110),x=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={editorState:C.EditorState.createEmpty()},a.onChange=function(e){var t=a.state.editorState.getCurrentContent(),n=Object(C.convertToRaw)(t);n.content=JSON.stringify(n.content),a.setState({editorState:e},a.props.onTextEditorChangeHandler(n))},a.handleKeyCommand=function(e){var t=C.RichUtils.handleKeyCommand(a.state.editorState,e);return t?(a.onChange(t),"handled"):"not-handled"},a.onUnderlineClick=function(e){e.preventDefault(),a.onChange(C.RichUtils.toggleInlineStyle(a.state.editorState,"UNDERLINE"))},a.onBoldClick=function(e){e.preventDefault(),a.onChange(C.RichUtils.toggleInlineStyle(a.state.editorState,"BOLD"))},a.onItalicClick=function(e){e.preventDefault(),a.onChange(C.RichUtils.toggleInlineStyle(a.state.editorState,"ITALIC"))},a.toggleBlockType=function(e){a.onChange(C.RichUtils.toggleBlockType(a.state.editorState,e))},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("button",{className:"formatButtons",onClick:this.onUnderlineClick,title:"underline"},l.a.createElement("u",null,"U")),l.a.createElement("button",{className:"formatButtons",onClick:this.onBoldClick,title:"bold"},l.a.createElement("b",null,"B")),l.a.createElement("button",{className:"formatButtons",onClick:this.onItalicClick,title:"italics"},l.a.createElement("em",null,"I")),l.a.createElement(j,{editorState:this.state.editorState,onToggle:this.toggleBlockType})),l.a.createElement("div",{className:"editors"},l.a.createElement(C.Editor,{blockStyleFn:R,editorState:this.state.editorState,handleKeyCommand:this.handleKeyCommand,onChange:this.onChange,placeholder:"Recipe steps and ingredients",spellCheck:!0,readOnly:!1,required:!0})))}}]),t}(n.Component),F=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={newRecipe:{title:"",date:null,details:"",user_id:null},image:null,imageUrl:null,detailsForUpload:null},a.onTitleChangeHandler=function(e){a.setState({newRecipe:Object(H.a)({},a.state.newRecipe,{title:e.target.value})},console.log(a.state.newRecipe))},a.onImageUrlChangeHandler=function(e){a.setState({imageUrl:e.target.value})},a.onTextEditorChangeHandler=function(e){a.setState({detailsForUpload:e})},a.onSubmitHandler=function(e){e.preventDefault();var t={title:a.state.newRecipe.title,date:S()().format("l"),details:a.state.detailsForUpload,photo:a.state.image?"public/uploads/IMAGE-".concat(Date.now(),"-").concat(a.state.image.name):a.state.imageUrl?a.state.imageUrl:null,user_id:a.props.user.id};console.log("formData",t),b.a.post("/recipes/add-new-recipe",t).then(function(e){console.log("This file was successfully uploaded",e.data),a.props.history.push("/")}).catch(function(e){return e})},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return console.log("DETAILS FOR UPLOAD",this.state.detailsForUpload),l.a.createElement("div",null,l.a.createElement(T,{handleClickedBackButton:this.props.handleClickedBackButton}),l.a.createElement("div",{className:"recipeFormContainer"},l.a.createElement("form",{action:"/recipes/add-new-recipe",className:"form",encType:"multipart/form-data",method:"post",onSubmit:this.onSubmitHandler},l.a.createElement("div",null,l.a.createElement("label",{className:"recipeTitleInput Label"},"Title"),l.a.createElement("input",{id:"title",value:this.state.newRecipe.title,placeholder:"What is the title of your dish?",className:"Input",onChange:this.onTitleChangeHandler,type:"text",required:!0})),l.a.createElement("div",null,l.a.createElement("label",{className:"recipeDetailsInput Label"},"Recipe"),l.a.createElement(x,{onTextEditorChangeHandler:this.onTextEditorChangeHandler})),l.a.createElement("div",null,l.a.createElement("label",{for:"url",className:"recipeTitleInput Label"},"Image"),l.a.createElement("input",{id:"imageUrl",type:"url",name:"url",value:this.state.newRecipe.imageUrl,placeholder:"Enter image URL",className:"Input imageUrlInput",onChange:this.onImageUrlChangeHandler})),l.a.createElement("button",{type:"submit",className:"submitButton saveButtonInnerContainer",title:"Save Recipe"},l.a.createElement(k.b,{className:"saveButton"})))))}}]),t}(n.Component),A=a(35),_=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={firstName:"",lastName:"",email:"",password:"",failedRegistrationMessage:null},a.handleInputChange=function(e){var t=e.target.id;a.setState(Object(A.a)({},t,e.target.value))},a.handleInputSubmit=function(e){e.preventDefault();var t={first:a.state.firstName,last:a.state.lastName,email:a.state.email,password:a.state.password};console.log("formData",t),b.a.post("/users/add-new-user",t).then(function(){var e=Object(u.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("from register",t.data),!t.data.id){e.next=8;break}return e.next=4,a.props.checkForSession();case 4:console.log("The user was successfully registered"),a.props.history.push("/"),e.next=9;break;case 8:a.setState({failedRegistrationMessage:l.a.createElement("p",{className:"unsuccessful"},"Email address is taken. Please try again.")});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){return e})},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",{className:"loginregisterTitle"},"Register"),l.a.createElement("p",{className:"or"},"or"),l.a.createElement(o.b,{to:"/login",className:"switchRegisterLogin"},"Log in"),l.a.createElement("form",{className:"form loginRegisterForm",action:"/users/add-new-user",encType:"multipart/form-data",method:"post",onSubmit:this.handleInputSubmit},l.a.createElement("label",{className:"login-register-label Label"},"First Name"),l.a.createElement("input",{id:"firstName",value:this.state.firstName,placeholder:"ex. John",className:"Input imageUrlInput",onChange:this.handleInputChange,required:!0}),l.a.createElement("label",{className:"login-register-label Label"},"Last Name"),l.a.createElement("input",{id:"lastName",value:this.state.lastName,placeholder:"ex. Appleseed",className:"Input imageUrlInput",onChange:this.handleInputChange,required:!0}),l.a.createElement("label",{className:"login-register-label Label"},"Email"),l.a.createElement("input",{id:"email",type:"email",value:this.state.email,placeholder:"ex. example@email.com",className:"Input imageUrlInput",onChange:this.handleInputChange,required:!0}),l.a.createElement("label",{className:"login-register-label Label"},"Password"),l.a.createElement("input",{id:"password",type:"password",value:this.state.password,placeholder:"be as complex as possible",className:"Input imageUrlInput",onChange:this.handleInputChange,required:!0}),l.a.createElement("button",{type:"submit",className:"submitButton"},"Register"),this.state.failedRegistrationMessage))}}]),t}(n.Component),q=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",failedLoginMessage:null},a.handleInputChange=function(e){var t=e.target.id;a.setState(Object(A.a)({},t,e.target.value))},a.handleInputSubmit=function(e){e.preventDefault();var t={email:a.state.email,password:a.state.password};console.log("formData",t),b.a.post("/users/login",t).then(function(){var e=Object(u.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("DATA",t.data),!t.data.id){e.next=8;break}return e.next=4,a.props.checkForSession();case 4:console.log("The user was successfully logged in"),a.props.history.push("/"),e.next=9;break;case 8:a.setState({failedLoginMessage:l.a.createElement("p",{className:"unsuccessful"},"Email and/or password is incorrect.")});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){return e})},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",{className:"loginregisterTitle"},"Log in"),l.a.createElement("p",{className:"or"},"or"),l.a.createElement(o.b,{to:"/register",className:"switchRegisterLogin"},"Register"),l.a.createElement("form",{className:"form loginRegisterForm",action:"/users/login",encType:"multipart/form-data",method:"post",onSubmit:this.handleInputSubmit},l.a.createElement("label",{className:"login-register-label Label"},"Email"),l.a.createElement("input",{id:"email",type:"email",value:this.state.email,placeholder:"enter email",className:"Input imageUrlInput",onChange:this.handleInputChange,required:!0}),l.a.createElement("label",{className:"login-register-label Label"},"Password"),l.a.createElement("input",{id:"password",type:"password",value:this.state.password,placeholder:"enter password",className:"Input imageUrlInput",onChange:this.handleInputChange,required:!0}),l.a.createElement("button",{type:"submit",className:"submitButton"},"Log in"),this.state.failedLoginMessage))}}]),t}(n.Component),K=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={recipes:null,selectedRecipe:null,editedDetails:null,search:"",user:null,loggedIn:!1,loading:!0,history:null},a.setHistoryState=function(){a.setState({history:a.props.history.location.pathname})},a.handleLoading=function(){a.setState({loading:!1})},a.setUserState=function(e){a.setState({user:e,loggedIn:!0})},a.checkForSession=function(){b.a.get("/session").then(function(){var e=Object(u.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.data.id&&a.setUserState(t.data),t.data.message&&(console.log("not loading session fast enough"),a.handleLoading()),console.log("res.data",t.data);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).then(function(){a.state.user&&(console.log("getting recipes after session check"),a.handleGetRecipes(),a.handleLoading())})},a.clickedRecipeHandler=function(e){var t=a.state.recipes.filter(function(t){return t.id===e});a.setState({selectedRecipe:t},function(){return a.props.history.push("/recipe/".concat(e))})},a.clickedBackButtonHandler=function(){a.props.history.push("/")},a.onTextEditorChangeHandlerEdit=function(e){a.setState({editedDetails:e})},a.handleSearch=function(e){a.setState({search:e.target.value})},a.handleClearSearchBar=function(){a.setState({search:""})},a.handleSignOut=function(){b.a.delete("/users/logout").then(a.setState({loggedIn:!1,user:null}))},console.log("constructor"),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){console.log("componentDidMount"),this.checkForSession()}},{key:"componentDidUpdate",value:function(e,t){console.log("componentDidUpdate"),t.history!==this.props.history.location.pathname&&this.setHistoryState(),null!==t.recipes&&t.recipes===this.state.recipes&&this.handleGetRecipes()}},{key:"handleGetRecipes",value:function(){var e=this;b.a.get("/recipes/allrecipes").then(function(t){if(console.log("RECIPES",t.data),t.data!==e.state.recipes){var a=t.data;e.setState({recipes:a})}}).catch(function(e){return e})}},{key:"render",value:function(){var e=this;console.log("render"),console.log("HISTORY",this.props.history.location.pathname);var t=null;return this.state.loggedIn&&!this.state.loading&&(t=l.a.createElement("div",null,l.a.createElement(f.b,{path:"/recipe/:id",render:function(t){return l.a.createElement(U,Object.assign({},t,{selectedRecipe:e.state.selectedRecipe,editedDetails:e.state.editedDetails,handleClickedBackButton:e.clickedBackButtonHandler,onTextEditorChangeHandlerEdit:e.onTextEditorChangeHandlerEdit}))}}),l.a.createElement(f.b,{path:"/new-recipe",render:function(t){return l.a.createElement(F,Object.assign({},t,{user:e.state.user,handleClickedBackButton:e.clickedBackButtonHandler}))}}),l.a.createElement(f.b,{path:"/",exact:!0,render:function(t){return l.a.createElement(v,Object.assign({},t,{recipes:e.state.recipes,search:e.state.search,handleSearch:e.handleSearch,handleClearSearchBar:e.handleClearSearchBar,handleClickedRecipe:e.clickedRecipeHandler}))}}),l.a.createElement(f.a,{to:"/"}))),this.state.loggedIn||this.state.loading||(t=l.a.createElement("div",null,l.a.createElement(f.b,{path:"/register",render:function(t){return l.a.createElement(_,Object.assign({},t,{checkForSession:e.checkForSession}))}}),l.a.createElement(f.b,{path:"/login",render:function(t){return l.a.createElement(q,Object.assign({},t,{checkForSession:e.checkForSession}))}}),l.a.createElement(f.a,{to:"/login"}))),l.a.createElement("div",{className:"App"},l.a.createElement(L,{loggedIn:this.state.loggedIn,recipes:this.state.recipes,handleSignOut:this.handleSignOut,search:this.state.search,handleSearch:this.handleSearch,history:this.state.history,handleClearSearchBar:this.handleClearSearchBar}),l.a.createElement("div",{className:"body"},t))}}]),t}(n.Component),M=Object(f.f)(K);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(o.a,null,l.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[111,1,2]]]);
//# sourceMappingURL=main.81fc30a0.chunk.js.map