(this["webpackJsonprecipe-app-frontend"]=this["webpackJsonprecipe-app-frontend"]||[]).push([[0],{116:function(e,t,a){e.exports=a(238)},121:function(e,t,a){},139:function(e,t,a){},238:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(62),i=a.n(r),c=a(20),s=(a(121),a(12)),o=a.n(s),u=a(25),d=a(5),p=a(6),h=a(7),m=a(8),g=a(27),f=a(15),E=a.n(f),v=(a(139),function(e){var t=e.recipes,a=t?t.filter((function(t){return t.recipe_title.toLowerCase().includes(e.search.toLowerCase())})):null,n=t?e.search?a.map((function(t){var a=t.recipe_photo?l.a.createElement("img",{src:t.recipe_photo,alt:t.recipe_title}):null;return l.a.createElement("article",{className:"card",key:t.id,onClick:function(){return e.handleClickedRecipe(t.id)}},a,l.a.createElement("div",{className:"recipeTitle"},l.a.createElement("h3",null,t.recipe_title)))})):t.map((function(t){var a=t.recipe_photo?l.a.createElement("img",{src:t.recipe_photo,alt:"Sample"}):null;return l.a.createElement("article",{className:"card",key:t.id,onClick:function(){return e.handleClickedRecipe(t.id)}},a,l.a.createElement("div",{className:"recipeTitle"},l.a.createElement("h3",null,t.recipe_title)))})):null;return l.a.createElement("div",null,l.a.createElement("div",{className:"cards"},n))}),b=a(4),C=a(51),y=a.n(C),S=a(33),k=(a(111),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).onToggle=function(t){var a=t.target.value;e.props.onToggle(a)},e}return Object(p.a)(a,[{key:"render",value:function(){return l.a.createElement("select",{value:this.props.active,onChange:this.onToggle,className:"formatButtons"},l.a.createElement("option",{value:""},"Header Levels"),this.props.headerOptions.map((function(e){return l.a.createElement("option",{value:e.style,key:Object.values(e)},e.label)})))}}]),a}(l.a.Component)),N=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.style)},e}return Object(p.a)(a,[{key:"render",value:function(){var e="RichEditor-styleButton formatButtons";return this.props.active&&(e+=" RichEditor-activeButton"),l.a.createElement("button",{className:e,onClick:this.onToggle,title:this.props.style},this.props.label)}}]),a}(l.a.Component),O=[{label:" \u201c \u201d ",style:"blockquote"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"},{label:"{ }",style:"code-block"}],w=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"}];function I(e){switch(e.getType()){case"blockquote":return"RichEditor-blockquote";default:return null}}var B=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props.editorState,a=t.getSelection(),n=t.getCurrentContent().getBlockForKey(a.getStartKey()).getType();return l.a.createElement("div",{className:"blockStyleToolBar"},l.a.createElement("span",{className:"RichEditor-controls"},l.a.createElement(k,{headerOptions:w,active:n,s:!0,onToggle:this.props.onToggle}),O.map((function(t){return l.a.createElement(N,{active:t.style===n,label:t.label,onToggle:e.props.onToggle,style:t.style,key:t.label,type:t})}))))}}]),a}(l.a.Component),R=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={editorState:e.props.editedDetails},e.onChange=function(t){var a=e.state.editorState.getCurrentContent(),n=Object(b.convertToRaw)(a);n.content=JSON.stringify(n.content),e.setState({editorState:t},e.props.onTextEditorChangeHandlerEdit(n))},e.handleKeyCommand=function(t){var a=b.RichUtils.handleKeyCommand(e.state.editorState,t);return a?(e.onChange(a),"handled"):"not-handled"},e.onUnderlineClick=function(t){t.preventDefault(),e.onChange(b.RichUtils.toggleInlineStyle(e.state.editorState,"UNDERLINE"))},e.onBoldClick=function(t){t.preventDefault(),e.onChange(b.RichUtils.toggleInlineStyle(e.state.editorState,"BOLD"))},e.onItalicClick=function(t){t.preventDefault(),e.onChange(b.RichUtils.toggleInlineStyle(e.state.editorState,"ITALIC"))},e.toggleBlockType=function(t){e.onChange(b.RichUtils.toggleBlockType(e.state.editorState,t))},e}return Object(p.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"formatButtonsContainer"},l.a.createElement("button",{className:"formatButtons",onClick:this.onUnderlineClick,title:"underline"},l.a.createElement("u",null,"U")),l.a.createElement("button",{className:"formatButtons",onClick:this.onBoldClick,title:"bold"},l.a.createElement("b",null,"B")),l.a.createElement("button",{className:"formatButtons",onClick:this.onItalicClick,title:"italics"},l.a.createElement("em",null,"I")),l.a.createElement(B,{editorState:this.state.editorState,onToggle:this.toggleBlockType})),l.a.createElement("div",{className:"editors"},l.a.createElement(b.Editor,{blockStyleFn:I,editorState:this.state.editorState,handleKeyCommand:this.handleKeyCommand,onChange:this.onChange,placeholder:"Enter ingredients, timing and recipe steps...",spellCheck:!0,readOnly:!1})))}}]),a}(n.Component),j=function(e){return l.a.createElement("div",{className:"backButton-container"},l.a.createElement("div",{className:"arrow arrow--left",onClick:e.handleClickedBackButton}))},T=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={editing:!1,title:null,detailsForUpload:null,image:null,imageUrl:null},e.onEditHandler=function(){e.setState({editing:!e.state.editing})},e.deleteHandler=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure you would like to delete this recipe? This cannot be undone.")){t.next=4;break}return t.next=4,E.a.delete("/recipes/delete-recipe/".concat(e.props.selectedRecipe[0].id)).then((function(t){console.log("successfully delete",t.data),e.props.history.push("/")}));case 4:case"end":return t.stop()}}),t)}))),e.setStateDetailsForUpload=function(){e.setState({detailsForUpload:e.props.editedDetails})},e.onSaveHandler=function(){var t=Object(u.a)(o.a.mark((function t(a){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.setStateDetailsForUpload();case 3:return n={title:null!==e.state.title?e.state.title:e.props.selectedRecipe[0].recipe_title,details:null!==e.state.detailsForUpload?e.state.detailsForUpload:e.props.selectedRecipe[0].recipe_details,photo:null!==e.state.imageUrl?e.state.imageUrl:e.props.selectedRecipe[0].recipe_photo},t.next=6,E.a.post("/recipes/edit/".concat(e.props.selectedRecipe[0].id),n).then((function(t){e.setState({editing:!1}),e.props.history.push("/")})).catch((function(e){return e}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onTitleChangeHandler=function(t){e.setState({title:t.target.value})},e.onImageUrlChangeHandler=function(t){e.setState({imageUrl:t.target.value})},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props.selectedRecipe,a=t?t.map((function(t){var a=e.state.editing?l.a.createElement(R,{onTextEditorChangeHandlerEdit:e.props.onTextEditorChangeHandlerEdit,editedDetails:b.EditorState.createWithContent(Object(b.convertFromRaw)(JSON.parse(t.recipe_details)))}):l.a.createElement(b.Editor,{editorState:b.EditorState.createWithContent(Object(b.convertFromRaw)(JSON.parse(t.recipe_details))),readOnly:!0}),n=e.state.editing?l.a.createElement("input",{id:"title",defaultValue:t.recipe_title,placeholder:"What is the title of your dish?",className:"Input",onChange:e.onTitleChangeHandler,type:"text",required:!0}):l.a.createElement("h3",{className:"inner-recipe-title"},t.recipe_title),r=null;!t.recipe_photo&&t.recipe_photo||(r=e.state.editing?l.a.createElement("input",{id:"imageUrl",placeholder:"Enter image URL",defaultValue:t.recipe_photo,className:"Input imageUrlInput",onChange:e.onImageUrlChangeHandler}):t.recipe_photo?l.a.createElement("img",{className:"recipeImage",src:t.recipe_photo,alt:"Sample"}):null);var i=e.state.editing?null:l.a.createElement("p",{className:"recipeAddedDate"},l.a.createElement("b",null,"Recipe added:")," ",y()(t.recipe_added_date).format("LL")),c=e.state.editing?l.a.createElement(S.d,{className:"editButton",title:"Undo",onClick:e.onEditHandler}):l.a.createElement(S.a,{className:"editButton",title:"Edit",onClick:e.onEditHandler});return l.a.createElement("div",{key:t.id},l.a.createElement("div",{className:"button-container"},c,l.a.createElement(S.c,{className:"deleteButton",title:"Delete",onClick:e.deleteHandler,style:(e.state.editing,null)})),l.a.createElement("form",{action:"/recipes/edit/".concat(e.props.selectedRecipe[0].id),className:"editRecipeForm",encType:"multipart/form-data",method:"post",onSubmit:e.onSaveHandler},l.a.createElement("div",{className:"saveButtonContainer"},l.a.createElement("button",{type:"submit",className:"saveButtonInnerContainer",title:"Save changes",style:e.state.editing?null:{display:"none"}},l.a.createElement(S.b,{className:"saveButton"}))),l.a.createElement("div",{className:"recipe-title-container"},n),i,r,l.a.createElement("div",{className:"recipeDetails"},a)))})):null;return null===t&&this.props.history.push("/"),l.a.createElement("div",null,l.a.createElement(j,{handleClickedBackButton:this.props.handleClickedBackButton}),l.a.createElement("div",{className:"recipeContainer"},a))}}]),a}(n.Component),U=function(e){var t=null===e.recipes||0===e.recipes.length?l.a.createElement("p",null,"Click the pulsating button in the top right to add your first recipe."):l.a.createElement("input",{value:e.search,placeholder:"Search Recipes...",className:"searchBar Input",onChange:e.handleSearch,autoFocus:"autofocus"});return l.a.createElement("div",null,null===e.recipes?null:t)},H=function(e){var t=e.history?e.history:null,a=null===e.recipes||0===e.recipes.length?"addRecipe pulse":"addRecipe",n=e.loggedIn?l.a.createElement(c.b,{to:"/new-recipe",title:"Add New Recipe",className:a},"+"):null,r=e.loggedIn?l.a.createElement(c.b,{to:"/login",className:"signOut",onClick:e.handleSignOut},"Sign out"):null,i=e.search.length>0?"clearSearch":"hideClearSearch",s="/"===t?l.a.createElement("div",{className:"searchBarContainer"},l.a.createElement(U,{search:e.search,handleSearch:e.handleSearch,recipes:e.recipes}),l.a.createElement("div",{className:i,onClick:e.handleClearSearchBar},"clear")):null,o=e.loggedIn?"/":"/login";return l.a.createElement("div",{className:"navContainer"},l.a.createElement("div",{className:"navContainer"},l.a.createElement(c.b,{to:o,className:"titleLogo"},l.a.createElement("img",{alt:"Chef Caitlin",src:"./media/PM-168.png",className:"chef-icon"}),l.a.createElement("h1",{className:"title"},"C's Recipes")),l.a.createElement("ul",null,n),r),s)},L=a(115),x=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={editorState:b.EditorState.createEmpty()},e.onChange=function(t){var a=e.state.editorState.getCurrentContent(),n=Object(b.convertToRaw)(a);n.content=JSON.stringify(n),e.setState({editorState:t},e.props.onTextEditorChangeHandler(n))},e.handleKeyCommand=function(t){var a=b.RichUtils.handleKeyCommand(e.state.editorState,t);return a?(e.onChange(a),"handled"):"not-handled"},e.onUnderlineClick=function(t){t.preventDefault(),e.onChange(b.RichUtils.toggleInlineStyle(e.state.editorState,"UNDERLINE"))},e.onBoldClick=function(t){t.preventDefault(),e.onChange(b.RichUtils.toggleInlineStyle(e.state.editorState,"BOLD"))},e.onItalicClick=function(t){t.preventDefault(),e.onChange(b.RichUtils.toggleInlineStyle(e.state.editorState,"ITALIC"))},e.toggleBlockType=function(t){e.onChange(b.RichUtils.toggleBlockType(e.state.editorState,t))},e}return Object(p.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("button",{className:"formatButtons",onClick:this.onUnderlineClick,title:"underline"},l.a.createElement("u",null,"U")),l.a.createElement("button",{className:"formatButtons",onClick:this.onBoldClick,title:"bold"},l.a.createElement("b",null,"B")),l.a.createElement("button",{className:"formatButtons",onClick:this.onItalicClick,title:"italics"},l.a.createElement("em",null,"I")),l.a.createElement(B,{editorState:this.state.editorState,onToggle:this.toggleBlockType})),l.a.createElement("div",{className:"editors"},l.a.createElement(b.Editor,{blockStyleFn:I,editorState:this.state.editorState,handleKeyCommand:this.handleKeyCommand,onChange:this.onChange,placeholder:"Recipe steps and ingredients",readOnly:!1,spellCheck:!0})))}}]),a}(n.Component),D=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={newRecipe:{title:"",date:null,details:"",user_id:null},image:null,imageUrl:null,detailsForUpload:null,formValidated:!0},e.onTitleChangeHandler=function(t){e.setState({newRecipe:Object(L.a)({},e.state.newRecipe,{title:t.target.value})})},e.onImageUrlChangeHandler=function(t){e.setState({imageUrl:t.target.value})},e.onTextEditorChangeHandler=function(t){e.setState({detailsForUpload:t})},e.onSubmitHandler=function(t){t.preventDefault();var a={title:e.state.newRecipe.title,date:y()().format("l"),details:e.state.detailsForUpload,photo:e.state.image?"public/uploads/IMAGE-".concat(Date.now(),"-").concat(e.state.image.name):e.state.imageUrl?e.state.imageUrl:null,user_id:e.props.userId};E.a.post("/recipes/add-new-recipe",a).then((function(t){e.props.history.push("/")})).catch((function(e){return e}))},e}return Object(p.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(j,{handleClickedBackButton:this.props.handleClickedBackButton}),l.a.createElement("div",{className:"recipeFormContainer"},l.a.createElement("form",{action:"/recipes/add-new-recipe",className:"form",encType:"multipart/form-data",method:"post",onSubmit:this.onSubmitHandler},l.a.createElement("div",null,l.a.createElement("label",{className:"recipeTitleInput Label"},"Title"),l.a.createElement("input",{id:"title",value:this.state.newRecipe.title,placeholder:"What is the title of your dish?",className:"Input",onChange:this.onTitleChangeHandler,type:"text",required:!0})),l.a.createElement("div",null,l.a.createElement("label",{className:"recipeDetailsInput Label"},"Recipe"),l.a.createElement(x,{onTextEditorChangeHandler:this.onTextEditorChangeHandler,formValidated:this.state.formValidated})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"url",className:"recipeTitleInput Label"},"Image"),l.a.createElement("input",{id:"imageUrl",type:"url",name:"url",value:this.state.newRecipe.imageUrl,placeholder:"Enter image URL",className:"Input imageUrlFieldInput",onChange:this.onImageUrlChangeHandler})),l.a.createElement("button",{type:"submit",className:"submitButton submitRecipe saveButtonInnerContainer",title:"Save Recipe"},l.a.createElement(S.b,{className:"saveButton"})))))}}]),a}(n.Component),F=a(34),_=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={firstName:"",lastName:"",email:"",password:"",failedRegistrationMessage:null},e.handleInputChange=function(t){var a=t.target.id;e.setState(Object(F.a)({},a,t.target.value))},e.handleInputSubmit=function(t){t.preventDefault();var a={first:e.state.firstName,last:e.state.lastName,email:e.state.email,password:e.state.password};E.a.post("/users/add-new-user",a).then(function(){var t=Object(u.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data.id){t.next=7;break}return t.next=3,e.props.checkForSession();case 3:console.log("The user was successfully registered"),e.props.history.push("/"),t.next=8;break;case 7:e.setState({failedRegistrationMessage:l.a.createElement("p",{className:"unsuccessful"},"Email address is taken. Please try again.")});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){return e}))},e}return Object(p.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",{className:"loginregisterTitle"},"Register"),l.a.createElement("p",{className:"or"},"or"),l.a.createElement(c.b,{to:"/login",className:"switchRegisterLogin"},"Log in"),l.a.createElement("form",{className:"form loginRegisterForm",action:"/users/add-new-user",encType:"multipart/form-data",method:"post",onSubmit:this.handleInputSubmit},l.a.createElement("label",{className:"login-register-label Label"},"First Name"),l.a.createElement("input",{id:"firstName",value:this.state.firstName,placeholder:"ex. John",className:"Input login-register-input",onChange:this.handleInputChange,required:!0}),l.a.createElement("label",{className:"login-register-label Label"},"Last Name"),l.a.createElement("input",{id:"lastName",value:this.state.lastName,placeholder:"ex. Appleseed",className:"Input login-register-input",onChange:this.handleInputChange,required:!0}),l.a.createElement("label",{className:"login-register-label Label"},"Email"),l.a.createElement("input",{id:"email",type:"email",value:this.state.email,placeholder:"ex. example@email.com",className:"Input login-register-input",onChange:this.handleInputChange,required:!0}),l.a.createElement("label",{className:"login-register-label Label"},"Password"),l.a.createElement("input",{id:"password",type:"password",value:this.state.password,placeholder:"be as complex as possible",className:"Input login-register-input",onChange:this.handleInputChange,required:!0}),l.a.createElement("button",{type:"submit",className:"submitButton"},"Register"),this.state.failedRegistrationMessage))}}]),a}(n.Component),A=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",failedLoginMessage:null},e.handleInputChange=function(t){var a=t.target.id;e.setState(Object(F.a)({},a,t.target.value))},e.handleInputSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};E.a.post("/users/login",a).then(function(){var t=Object(u.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.data.verified){t.next=6;break}return t.next=3,e.props.checkForSession();case 3:e.props.history.push("/"),t.next=7;break;case 6:e.setState({failedLoginMessage:l.a.createElement("p",{className:"unsuccessful"},"Email and/or password is incorrect.")});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){return e}))},e}return Object(p.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",{className:"loginregisterTitle"},"Log in"),l.a.createElement("p",{className:"or"},"or"),l.a.createElement(c.b,{to:"/register",className:"switchRegisterLogin"},"Register"),l.a.createElement("form",{className:"form loginRegisterForm",action:"/users/login",encType:"multipart/form-data",method:"post",onSubmit:this.handleInputSubmit},l.a.createElement("label",{className:"login-register-label Label"},"Email"),l.a.createElement("input",{id:"email",type:"email",value:this.state.email,placeholder:"enter email",className:"Input login-register-input",onChange:this.handleInputChange,required:!0}),l.a.createElement("label",{className:"login-register-label Label"},"Password"),l.a.createElement("input",{id:"password",type:"password",value:this.state.password,placeholder:"enter password",className:"Input login-register-input",onChange:this.handleInputChange,required:!0}),l.a.createElement("button",{type:"submit",className:"submitButton"},"Log in"),this.state.failedLoginMessage))}}]),a}(n.Component),q=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={recipes:null,selectedRecipe:null,editedDetails:null,search:"",userId:null,loggedIn:!1,loading:!0,history:null},e.setHistoryState=function(){e.setState({history:e.props.history.location.pathname})},e.handleLoading=function(){e.setState({loading:!1})},e.setUserState=function(t){e.setState({userId:t,loggedIn:!0})},e.checkForSession=function(){E.a.get("/session").then(function(){var t=Object(u.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.data.id&&e.setUserState(a.data.id),a.data.message&&e.handleLoading();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(){e.state.userId&&(e.handleGetRecipes(),e.handleLoading())}))},e.handleGetRecipes=function(){E.a.get("/recipes/allrecipes").then((function(t){if(t.data!==e.state.recipes){var a=t.data;e.setState({recipes:a})}})).catch((function(e){return e}))},e.clickedRecipeHandler=function(t){var a=e.state.recipes.filter((function(e){return e.id===t}));e.setState({selectedRecipe:a},(function(){return e.props.history.push("/recipe/".concat(t))})),window.scrollTo(0,0)},e.clickedBackButtonHandler=function(){e.props.history.push("/")},e.onTextEditorChangeHandlerEdit=function(t){e.setState({editedDetails:t})},e.handleSearch=function(t){e.setState({search:t.target.value})},e.handleClearSearchBar=function(){e.setState({search:""})},e.handleSignOut=function(){E.a.delete("/users/logout").then(e.setState({loggedIn:!1,userId:null,recipes:null}))},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.checkForSession()}},{key:"componentDidUpdate",value:function(e,t){t.history!==this.props.history.location.pathname&&this.setHistoryState(),null!==t.recipes&&t.recipes===this.state.recipes&&this.handleGetRecipes()}},{key:"render",value:function(){var e=this,t=null;return this.state.loggedIn&&!this.state.loading&&(t=l.a.createElement("div",null,l.a.createElement(g.b,{path:"/recipe/:id",render:function(t){return l.a.createElement(T,Object.assign({},t,{selectedRecipe:e.state.selectedRecipe,editedDetails:e.state.editedDetails,handleClickedBackButton:e.clickedBackButtonHandler,onTextEditorChangeHandlerEdit:e.onTextEditorChangeHandlerEdit}))}}),l.a.createElement(g.b,{path:"/new-recipe",render:function(t){return l.a.createElement(D,Object.assign({},t,{userId:e.state.userId,handleClickedBackButton:e.clickedBackButtonHandler}))}}),l.a.createElement(g.b,{path:"/",exact:!0,render:function(t){return l.a.createElement(v,Object.assign({},t,{recipes:e.state.recipes,search:e.state.search,handleSearch:e.handleSearch,handleClearSearchBar:e.handleClearSearchBar,handleClickedRecipe:e.clickedRecipeHandler}))}}),l.a.createElement(g.a,{to:"/"}))),this.state.loggedIn||this.state.loading||(t=l.a.createElement("div",null,l.a.createElement(g.b,{path:"/register",render:function(t){return l.a.createElement(_,Object.assign({},t,{checkForSession:e.checkForSession}))}}),l.a.createElement(g.b,{path:"/login",render:function(t){return l.a.createElement(A,Object.assign({},t,{checkForSession:e.checkForSession}))}}),l.a.createElement(g.a,{to:"/login"}))),l.a.createElement("div",{className:"App"},l.a.createElement(H,{loggedIn:this.state.loggedIn,recipes:this.state.recipes,handleSignOut:this.handleSignOut,search:this.state.search,handleSearch:this.handleSearch,history:this.state.history,handleClearSearchBar:this.handleClearSearchBar}),l.a.createElement("div",{className:"body"},t))}}]),a}(n.Component),K=Object(g.f)(q);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(c.a,null,l.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[116,1,2]]]);
//# sourceMappingURL=main.041d2f6f.chunk.js.map